# English as a CFG

First published on: 2022-12-20

`#linguistics`, `#computerscience`

As a computer science student, I have spent a fair amount of time studying context free grammars (CFGs) in the context of compilers and automaton. They are a powerful tool, useful for defining parsers, but something I'm sure alot of other computer science students won't know about is their use in linguistics too.

The word syntax to most computer science students will immediately bring to mind semi-colons, curly braces, and indentation rules, but it is also used in linguistics to talk about a similar concept - how we form sentences from words.

You may not think about it when you speak, but the order of your words is obviously very important. To say "John hit the dog" and "The dog hit John" means very different things, and to say "hit John dog the" means absolutely nothing.

It is easiest to think about this from bottom up: We'll start by considering noun phrases.

`NP -> N `

At its most basic, a noun phrase must have a noun (seems simple enough!).

In English, we put adjectives before the noun, and we can have as few or as many as we'd like, which we can represent by the Kleene Star (Some definitions of CFGs do not allow this, but we can simulate it by `NP -> Adj NP | NP`):

`NP -> (Adj*) N`

We can modify adjectives with adverbs, such as in the phrase "very blue" or "overly sensitive". To show this, we can replace our adjective with and adjective phrase (`AdjP`) and define `AdjP` as follows:

`AdjP -> (AdvP*) Adj`

This is a common pattern, and one of the rules of linguistic syntax is that only the "head" (the defining character) of a phrase should be a word, everything else should be a phrase, hence we have `AdvP` instead of `Adv` in the above example. We will define that now:

`AdvP -> (AdvP*) Adv`

The evidence for the above definition comes from the fact that we can have as many adverbs as we want in place of any single adverb, such as taking the phrase "very hot" and changing it to "very very hot" or "very very very very hot"

We also use determiners (words such as "the", "a", "my", "that") at the start of a noun phrase, but only one (here we use brackets to represent an optional element, which again can be simulated in basic CFGs by `X -> (Y)Z ≡ X -> Z | YZ`):

`NP -> (Det) (AdjP*) N`

The final additions to our noun phrase are prepositional phrases and relative clauses, as in the noun phrases "The dog with brown fur" and "The dog that barks loudly". As we can see, these go after the noun, and if we combine the two examples we get "The dog with brown fur that barks loudly", showing that prepositional phrases should come first.

`NP -> (Det) (AdjP*) N (PP*) (CP*)`

We will come on to clauses later, but prepositional phrases consist of a preposition followed by a noun phrase: "in [the blue house]", "with [the sharp knife]", "under [the very blue table with black legs]"

`PP -> P NP`

Now we should talk about conjunctions for a bit: "The dog and the man" is a valid noun phrase, and "The man who eats alot and who has nice hair" is also a valid noun phrase.

The way conjuctions work is they can take two of the same type of phrase and join them into one, but they cannot take two different types of phrase: "\*The dog and with brown fur", "The man who has nice hair and with blue eyes". We could show this by defining rules such as `NP -> ... | NP conj NP, PP -> ... | PP conj PP`, but for the sake of convenience we will simply say

`XP -> XP conj XP`

where X can be any type of phrase.

Now moving upwards towards the root of the sentence, we have verb phrases. You may remember from English class in school that a sentence consists of a subject and a predicate, and verb phrases here will represent that predicate.

`VP -> V`

Obviously verbs can take adverbs, but the interesting part is they can go on either side of the verb: "He ran quickly", "He quickly ran"

`VP -> (AdvP*) V (AdvP*)`

We can also modify verbs with prepositional phrases, as in "He ran towards the bridge", and note that the adverb can go on either side of this too: "He ran quickly towards the bridge", "He ran towards the bridge quickly"

`VP -> (AdvP*) V (AdvP*) (PP*) (AdvP*)`

And finally we need to consider the <i>transitivity</i> of the verb, which means how many arguments it takes. For example, we can say "I sleep", because it is an <i>intransitive</i> verb, but not "I need", as it is a <i>transitive</i> verb that requires a direct object.

`VP -> (AdvP*) V (NP) (NP) (AdvP*) (PP*) (AdvP*)`

Arguments to a verb are noun phrases, and you may have noticed that I added two `NP`s and this is because of <i>ditransitive</i> verbs, which take two objects, as in "I gave you the book."

Finally, we need to take into account auxilliary verbs, used to mark some tenses in English, such as the future: "I will eat", which we do with a TP (tensed phrase), and clauses, which are simply a verb phrase (more accurately a tensed phrase) with an optional relativiser

`CP -> (C) TP`

`TP -> NP (T) VP`

It is worth noting that our `XP -> XP conj XP` construction applies here, allowing us to form compound sentences such as "I ate the rice and I went to the store"

The whole set of rules we have so far is:

`CP -> (C) TP`

`TP -> NP (T) VP`

`VP -> (AdvP*) V (NP) (NP) (AdvP*) (PP*) (AdvP*)`

`NP -> (Det) (AdjP*) N (PP*) (CP*)`

`AdvP -> (AdvP*) Adv`

`AdjP -> (AdvP*) Adj`

`PP -> P NP`

`XP -> XP conj XP`

Let's take a look at some sentences and check that they fit our rules:

"We go to the beach in summer, but my cat stays home because he doesn’t own a swimsuit."

We can deconstruct this into the following, which if you look at each phrase, abides by the rules.

<Image src="/1_tree.png"></Image>
